<Window x:Class="A7K9T2ZQ4M1XG8P5C3RND6L0YVBEZ.windows.pos_hospitality.pos_hospitality"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:A7K9T2ZQ4M1XG8P5C3RND6L0YVBEZ.windows.pos_hospitality"
        mc:Ignorable="d"
        Title="EvPOS - Servering" Height="900" Width="1400" Background="#FF1E1E1E">
    <Window.Resources>
        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Margin" Value="6"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Background" Value="#FF3A6EA5"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="10">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF2F5C89"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FF244463"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="CategoryItem" TargetType="ListBoxItem">
            <Setter Property="Margin" Value="4"/>
            <Setter Property="Padding" Value="12"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="#FF2E2E2E"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border Background="{TemplateBinding Background}" CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="#FF3A6EA5"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF3C3C3C"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ProductButton" TargetType="Button">
            <Setter Property="Margin" Value="6"/>
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="Background" Value="#FF2E2E2E"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="12" Padding="10">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF3C3C3C"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FF1B1B1B"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SummaryLabel" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#FFCCCCCC"/>
            <Setter Property="FontSize" Value="16"/>
        </Style>

        <Style x:Key="SummaryValue" TargetType="TextBlock">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="HorizontalAlignment" Value="Right"/>
        </Style>
    </Window.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="380"/>
        </Grid.ColumnDefinitions>

        <Border Grid.ColumnSpan="3" Background="#FF2A2A2A" CornerRadius="12" Padding="16" Margin="0,0,0,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel>
                    <TextBlock Text="EvPOS Servering" FontSize="26" FontWeight="Bold" Foreground="White"/>
                    <TextBlock Text="Skift #184 · Kasse 03" Foreground="#FFCCCCCC" FontSize="14"/>
                </StackPanel>
                <StackPanel Grid.Column="1" HorizontalAlignment="Right" Margin="0,0,16,0">
                    <TextBlock Text="Operatør" Foreground="#FFCCCCCC" FontSize="12"/>
                    <TextBlock Text="Amalie" Foreground="White" FontSize="18" FontWeight="SemiBold"/>
                </StackPanel>
                <Button Grid.Column="2" Content="Exit" Width="80" Height="40" Background="#FF8C2B2B" Foreground="White" BorderThickness="0" Click="Exit_Click"/>
            </Grid>
        </Border>

        <Border Grid.Row="1" Grid.Column="0" Background="#FF242424" CornerRadius="12" Padding="12" Margin="0,0,16,0">
            <StackPanel>
                <TextBlock Text="Kategorier" Foreground="White" FontWeight="Bold" FontSize="18" Margin="4"/>
                <ListBox x:Name="CategoryList"
                         ItemsSource="{Binding Categories}"
                         SelectionChanged="CategoryList_SelectionChanged"
                         ItemContainerStyle="{StaticResource CategoryItem}"
                         Background="Transparent"
                         BorderThickness="0">
                    <ListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <UniformGrid Columns="1" Rows="10"/>
                        </ItemsPanelTemplate>
                    </ListBox.ItemsPanel>
                </ListBox>
            </StackPanel>
        </Border>

        <Border Grid.Row="1" Grid.Column="1" Background="#FF242424" CornerRadius="12" Padding="12" Margin="0,0,16,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="4">
                    <TextBlock Text="Varer" Foreground="White" FontWeight="Bold" FontSize="18"/>
                    <TextBlock Text="·" Foreground="#FF888888" Margin="8,0"/>
                    <TextBlock Text="{Binding SelectedCategory}" Foreground="#FFCCCCCC" FontSize="16"/>
                    <TextBox Width="220" Margin="16,0,0,0" Height="34" VerticalContentAlignment="Center" Text="Søk etter vare..." Foreground="#FF777777" Background="#FF1E1E1E" BorderThickness="0" Padding="10"/>
                </StackPanel>

                <ItemsControl Grid.Row="1" ItemsSource="{Binding ProductsView}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <UniformGrid Columns="4" Rows="4"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Button Style="{StaticResource ProductButton}" Click="AddProduct_Click">
                                <StackPanel>
                                    <TextBlock Text="{Binding Name}" FontWeight="SemiBold" FontSize="18" TextAlignment="Center"/>
                                    <TextBlock Text="{Binding Price, StringFormat=kr {0:0.00}}" Foreground="#FFCCCCCC" FontSize="14" TextAlignment="Center"/>
                                </StackPanel>
                            </Button>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </Grid>
        </Border>

        <Border Grid.Row="1" Grid.Column="2" Background="#FF242424" CornerRadius="12" Padding="12">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Margin="0,0,0,12">
                    <TextBlock Text="Kommandolinje" Foreground="#FFCCCCCC" FontSize="14" Margin="2,0,0,6"/>
                    <TextBox x:Name="CommandInput" Height="36" Background="#FF1E1E1E" Foreground="White" BorderThickness="0" Padding="10" KeyDown="CommandInput_KeyDown"/>
                </StackPanel>

                <DataGrid x:Name="OrderList" Grid.Row="1" ItemsSource="{Binding OrderLines}" AutoGenerateColumns="False" HeadersVisibility="Column" CanUserAddRows="False" Background="#FF1A1A1A" Foreground="White" GridLinesVisibility="None" Margin="0,0,0,12">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Vare" Binding="{Binding Product}" Width="*"/>
                        <DataGridTextColumn Header="Ant" Binding="{Binding Quantity}" Width="50"/>
                        <DataGridTextColumn Header="Pris" Binding="{Binding UnitPrice, StringFormat=kr {0:0.00}}" Width="80"/>
                        <DataGridTextColumn Header="Sum" Binding="{Binding LineTotal, StringFormat=kr {0:0.00}}" Width="90"/>
                        <DataGridTemplateColumn Header="" Width="50">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="X" Width="32" Height="32" Background="#FF8C2B2B" Foreground="White" Click="RemoveLine_Click"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>

                <StackPanel Grid.Row="2" Margin="0,0,0,12">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Subtotal" Style="{StaticResource SummaryLabel}"/>
                        <TextBlock Grid.Column="1" Text="{Binding Subtotal, StringFormat=kr {0:0.00}}" Style="{StaticResource SummaryValue}"/>
                    </Grid>
                    <Grid Margin="0,6,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="MVA (25%)" Style="{StaticResource SummaryLabel}"/>
                        <TextBlock Grid.Column="1" Text="{Binding Tax, StringFormat=kr {0:0.00}}" Style="{StaticResource SummaryValue}"/>
                    </Grid>
                    <Grid Margin="0,6,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="Total" Foreground="White" FontSize="20" FontWeight="Bold"/>
                        <TextBlock Grid.Column="1" Text="{Binding Total, StringFormat=kr {0:0.00}}" Foreground="White" FontSize="22" FontWeight="Bold"/>
                    </Grid>
                </StackPanel>

                <StackPanel Grid.Row="3" Margin="0,0,0,12">
                    <UniformGrid Columns="3" Rows="4" Margin="0,8,0,0">
                        <Button Content="1" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="2" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="3" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="4" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="5" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="6" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="7" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="8" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="9" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="Clear" Style="{StaticResource PrimaryButton}" Background="#FF4B4B4B"/>
                        <Button Content="0" Style="{StaticResource PrimaryButton}"/>
                        <Button Content="DEL" Style="{StaticResource PrimaryButton}" Background="#FF8C2B2B"/>
                    </UniformGrid>
                </StackPanel>

                <StackPanel Grid.Row="4">
                    <UniformGrid Columns="2" Margin="0,0,0,6">
                        <Button Content="Bank 1" Style="{StaticResource PrimaryButton}" Background="#FF2A7F62"/>
                        <Button Content="Bank 2" Style="{StaticResource PrimaryButton}" Background="#FF2A7F62"/>
                        <Button Content="Cash" Style="{StaticResource PrimaryButton}" Background="#FF4F8A10"/>
                        <Button Content="Vipps" Style="{StaticResource PrimaryButton}" Background="#FFEF6C00"/>
                        <Button Content="Betal" Style="{StaticResource PrimaryButton}" Background="#FF3A6EA5"/>
                        <Button Content="TBA" Style="{StaticResource PrimaryButton}" Background="#FF4B4B4B"/>
                        <Button Content="Siste kvitt." Style="{StaticResource PrimaryButton}" Background="#FF4B4B4B"/>
                        <Button Content="Ny ordre" Style="{StaticResource PrimaryButton}" Background="#FF4B4B4B"/>
                    </UniformGrid>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
